---
import Layout from "../../layouts/Layout.astro";
import { ProjectCard } from "../../components/global/ProjectCard";
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
---
<Layout title={'Projects'}>
	<main class="container-fluid pt-4">
		<section class="row">
			<aside class="col-md-2"></aside>
			<section class="col-md-8">
				<h1>Projects</h1>
				<p>End-to-end data-driven projects.</p>
				<ul class="list-group">
					{projects.map(project => (
						<li class="list-group-item list-group-item-dark border-0 project-wrapper" style="padding: 1px;">
							<ProjectCard
								{...project.data}
								link={`projects/${project.slug}`}
								thumbnail={`/src/images/projects/${project.data.thumbnail}`}
							/>
						</li>
					))}
				</ul>
			</section>
			<aside class="col-md-2"></aside>
		</section>
	</main>
</Layout>